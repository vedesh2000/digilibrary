<h2 class="title-header"><%= author.name %></h2>
<div class="dashboard-details">
  Total Books : <%= booksByAuthor.length %>
  <br>
  <div>Last Modified At : <%=author.lastModifiedAt.toDateString() %></div>
  <div>Last Opened At : : <%=author.lastOpenedAt.toDateString() %></div>
  <div>Created At : <%=author.createdAt.toDateString() %></div>
  <div>Modification Times : <%=author.version %></div>
</div>
<div class="btn-row">
  <a class="btn btn-primary" href="/files/authors/<%= author.id %>/edit">Edit Author</a>
  <%- include('../partials/deleteForm' , 
                      {url: `/files/authors/${author.id}` , buttonName: "Delete"}) %>
</div>
<% if (booksByAuthor.length > 0){ %>    
    <h2>Books By Author</h2>
    <div class="cards-container">
      <% booksByAuthor.forEach(book => { %>
        <div class="card">
          <a href="/files/books/<%= book.id %>">
            <% if (book.coverImagePath) { %>
              <img src="<%= book.coverImagePath %>">
              <% } else { %>
                <img src="/book.png">
                <% } %>
              </a>
              <!-- Buttons container -->
              <div class="buttons-container">
                <a href="/files/books/<%= book.id %>/edit">
                  <i style="color: blue; background-color: aliceblue; border-radius: 50%; font-size: 10px; margin: 3px; padding: 4px;" class="fa fa-pen"></i>
                </a>
                <a href="/files/books/<%= book.id %>/notes">
                  <i style="color: rgb(156, 103, 4); background-color: aliceblue; border-radius: 50%; font-size: 10px; margin: 3px; padding: 4px;" class="fa fa-note-sticky"></i>
                </a>
                <!-- <form method="POST" action="/files/books/<%= book.id %>/addOrRemoveDailyReadBook?_method=POST"> -->
                  <button style="margin: 0px; padding: 0px;" onclick="addOrRemoveDailyReadBook('<%= book.id %>')" class="theme-button">
                    <% if(book.isDailyBook){ %>
                    <i id="dailyReadButton<%= book.id  %>" style="color: orange; background-color: aliceblue; border-radius: 50%; font-size: 10px; margin: 4px; padding: 5px;" class="fa fa-book"></i>
                    <% } else { %>
                    <i id="dailyReadButton<%= book.id  %>" style="background-color: aliceblue; border-radius: 50%; font-size: 10px; margin: 4px; padding: 5px;" class="fa fa-book"></i>
                    <% } %> 
                  </button>
                  <button style="margin: 0px; padding: 0px;" onclick="addOrRemoveFavourite('<%= book.id %>')" class="theme-button">
                    <% if(book.isFavourite){ %>
                    <i id="favouriteButton<%= book.id  %>" style="color: red; background-color: aliceblue; border-radius: 50%; font-size: 10px; margin: 3px; padding: 5px;" class="fa fa-heart"></i>
                    <% } else { %>
                    <i id="favouriteButton<%= book.id  %>" style="background-color: aliceblue; border-radius: 50%; font-size: 10px; margin: 3px; padding: 5px;" class="fa fa-heart"></i>
                    <% } %>
                  </button>
                  <button style="margin: 0px; padding: 0px;" class="theme-button" onclick="deleteBook('<%= book.id %>')">
                    <i style="color: black; background-color: aliceblue; border-radius: 50%; font-size: 10px; margin: 4px; padding: 5px;" class="fa fa-trash"></i>
                  </button>
              </div>
              
                <a href="/files/books/<%= book.id %>">
                <div class="container">
                  <div style="height: 90px; width: 100%;"><%= book.title %></div>
                </div>
              </div>
            </a>
      <% }) %>
    </div>
    <br/>
<% } %>


<script defer src="/javascripts/cardButtons.js"></script>